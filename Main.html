<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Employee Management Syste</title>

     <!--for bootstrap-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">

    <!---for fontawsome icons-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <!--for jquery-->
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
   <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

   <!-- this is for jquery confirm dialog box-->
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-confirm/3.3.4/jquery-confirm.min.css">
   <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-confirm/3.3.4/jquery-confirm.min.js"></script>

   <style>
    #head-row{
        background-color: teal;
       color: #fff;
       font-size: 15px;
    }
    #empl-tbl-body{
        font-size: 15px;

    }
    
    .edit-btn{
      font-size: 25px;
      cursor: pointer;
       width: 30px;
      height: 30px;
      border-radius: 50%;
      border: solid ;
      background: linear-gradient(to bottom, #FF2CDF, #0014FF);
      font-size:20px;
      color:white;
      text-align: center;
    }
    .delete-btn{
      font-size: 25px;
      cursor: pointer;
      width: 30px;
      height: 30px;
      border-radius: 50%;
      border: solid ;
      background: linear-gradient(to bottom, #00E1FD, #FC007A);
      font-size:20px;
      color:white;
      text-align: center;
    }
    #search-input-holder{
      width: 280px;
      padding-top: 10px;
      padding-bottom: 10px;
      input[type=text] {
  width: 50px;
  -webkit-transition: width 0.4s ease-in-out;
  transition: width 0.4s ease-in-out;
}

/* When the input field gets focus, change its width to 100% */
input[type=text]:focus {
  width: 100%;
}
    }
    
    #add-btn{
     width: 40px;
    height: 40px;
    border-radius: 60%;
    border: solid 2px purple;
    font-size: 17px;
    text-align: center;
    background: linear-gradient(to bottom, #A7076B, #650460);
    }
    
    #top-header{
      width: 216%;
    height: 80px;
    background-color: #2C3E50; 
    text-align: center;
    padding-left: 10px;
    padding-top: 9px;
    font-size: 15px;
    font-weight: bold;
    color: white; 
    border-bottom: solid 2px #035;

    box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;
    } 
            /* Table Styles */
    table {
            border-collapse: collapse;
            width: 100%;
            margin-top: 12px;
            border: 1px solid #007bff;
            padding: 10px;
        }

        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #BDC3C7;
            font-size: 18px;
            font-size: 15px;
        }

        tr:nth-child(even) {
            background-color: #C7B8EA ;
            
        }

        tr:hover {
            background-color: #F7F9F9;
        }

        th {
            font-weight: 600;
            text-transform: uppercase;
          
        }
   </style>

</head>
<body>

  <div id="top-header">
    <div><h2>EMPLOYEE MANAGEMENT SYSTEM</h2></div>
  </div> 
  
    <div class="container">
       <div id="search-input-holder">
          <input id="serach-input" type="text" placeholder="Search Employee" class="form-control">
       </div>

        <table class="table table-striped table-bordered">
          <thead>
            <tr id="head-row">
              <th>EMPLOYEE ID</th>
              <th>NAME</th>
              <th>ADDRESS</th>
              <th>PHONE</th>
              <th>AGE</th>
              <th>GENDER</th>
              <th>ROLE</th>
              <th>SALARY</th>
              <th>EDIT</th>
              <th>DELETE</th>
            </tr>

          </thead>
          <tbody id="empl-tbl-body"> 


          </tbody>
        </table>

        <div id="add-btn-holder">
          <button id="add-btn" type="button" class="btn btn-primary">
            <i class="fa fa-user" aria-hidden="true"></i>
          </button>
        </div>

      </div>

      <!--- here we write the js code -->
      <script>


        const employees = [
            {
                employeeId: "EMP1001",
                name: "William",
                address: "Jesus Villa ",
                phone: 8745671020,
                age: 29,
                gender: "Male",
                role: "Network Engineer",
                salary: "56000.00"
            },
            {
                employeeId: "EMP1002",
                name: "Juhi",
                address: "Dwaraka ",
                phone: 6010334198,
                age: 24,
                gender: "Female",
                role: "Data Scientist",
                salary: "71000.00"
            },
            {
                employeeId: "EMP1003",
                name: "Dhanush",
                address: "Vridhavanam ",
                phone: 9555004585,
                age: 30,
                gender: "Male",
                role: "Web Developer",
                salary: "78000.00"
            },
            {
                employeeId: "EMP1004",
                name: "Emily",
                address: "Bougain Villa ",
                phone: 7543891011,
                age: 35,
                gender: "Female",
                role: "IT Consultant",
                salary: "68000.00"
            },
            {
                employeeId: "EMP1005",
                name: "David",
                address: "Kalathil ",
                phone: 9061501314,
                age: 40,
                gender: "Male",
                role: "Technical Writer",
                salary: "97817.00"
            }

     ];

     for(i=0;i<employees.length;i++){

        var tr = `<tr>
              <td>${employees[i].employeeId}</td>
              <td>${employees[i].name}</td>
              <td>${employees[i].address}</td>
              <td>${employees[i].phone}</td>
              <td>${employees[i].age}</td>
             <td>${employees[i].gender}</td>
              <td>${employees[i].role}</td>
              <td>${employees[i].salary}</td>
              <td><div class='edit-btn'><i class="fa fa-pencil" aria-hidden="true"></i></div></td>
              <td><div class='delete-btn'><i class="fa fa-trash" aria-hidden="true"></i></div></td>
             </tr>`

             // append function used to insert this string into table body
             $("#empl-tbl-body").append(tr)
     }


     // code for seaching student with their name
     $("#serach-input").on("keyup change", function(e) {

         var searchInputVal = $("#serach-input").val().toLowerCase();


         $('#empl-tbl-body tr').each(function(i, obj) {
            var tr = obj;
            var name = $(tr).find("td:eq(1)").text().toLowerCase();

            if(searchInputVal==""){

                // this will work when the search input box is empty
                // if empty show all tr
                $(tr).show();

            }else{

                if(name.includes(searchInputVal)){
                    $(tr).show(); // remove display:none
                }else{
                    $(tr).hide(); // display : none
                }
            }



         });
     })


    $('#empl-tbl-body').on('click', '.edit-btn', function() {

      // this keyword specify current object

      var tr = $(this).parent().parent();

      var employeeId = $(tr).find("td:eq(0)").text();
      var name = $(tr).find("td:eq(1)").text();
      var address = $(tr).find("td:eq(2)").text();
      var phone = $(tr).find("td:eq(3)").text();
      var age =  $(tr).find("td:eq(4)").text();
      var gender =  $(tr).find("td:eq(5)").text();
     var role =  $(tr).find("td:eq(6)").text();
      var salary = $(tr).find("td:eq(7)").text();

      $.confirm({
            title: 'UPDATE EMPLOYEE',
            content: '<div class="form-group">' +
            '<label>Employee ID</label>' +
            '<input value="'+employeeId+'" id="employee-id-input" type="text" placeholder="your Employee ID" class="form-control"/>' +
            '</div>' +
            
            
            '<div class="form-group">' +
            '<label>Name</label>' +
            '<input value="'+name+'" id="name-input" type="text" placeholder="Your Name" class="form-control"/>' +
            '</div>' +
            
            
            '<div class="form-group">' +
            '<label>Address</label>' +
            '<input value="'+address+'" id="address-input" type="text" placeholder="Your Address" class="form-control"/>' +
            '</div>' + 
            
            
            '<div class="form-group">' +
            '<label>Phone</label>' +
            '<input value="'+phone+'" id="gender-input" type="number" placeholder="Your Phone" class="form-control"/>' +
            '</div>'+
            
            
            '<div class="form-group">' +
            '<label>Age</label>' +
            '<input value="'+age+'" id="age-input" type="number" placeholder="Your Age" class="form-control"/>' +
            '</div>'+
            
            
            '<div class="form-group">' +
            '<label>Gender</label>' +
            '<input value="'+gender+'" id="gender-input" type="text" placeholder="Your Gender" class="form-control"/>' +
            '</div>'+
            
            
            '<div class="form-group">' +
            '<label>Role</label>' +
            '<input value="'+role+'" id="role-input" type="text" placeholder="Your Role" class="form-control"/>' +
            '</div>'+
            
            
            '<div class="form-group">' +
            '<label>Salary</label>' +
            '<input value="'+salary+'" id="salary-input" type="number" placeholder="Your Salary" class="form-control"/>' +
            '</div>'

            ,
            buttons: {
                update: {
                    text: 'Update',
                    btnClass: 'btn-purple',
                    action: function () {

                      var employeeId =  $ ('#employee-id-input').val();
                      var name =   $('#name-input').val();
                      var address = $('#address-input').val();
                      var phone = $('#phone-input').val();
                      var age = $('#age-input').val();
                      var gender = $('#gender-input').val();
                      var role = $('#role-input').val();
                      var salary = $('#salary-input').val();

                      $(tr).find("td:eq(0)").text(employeeId);
                      $(tr).find("td:eq(1)").text(name);
                      $(tr).find("td:eq(2)").text(address);
                      $(tr).find("td:eq(3)").text(phone);
                      $(tr).find("td:eq(4)").text(age);
                       $(tr).find("td:eq(5)").text(gender);
                        $(tr).find("td:eq(6)").text(role);
                      $(tr).find("td:eq(7)").text(salary);


                    }
                },
                cancel: function () {

                },

            },
            onContentReady: function () {

            }
        });
    });


    $('#empl-tbl-body').on('click', '.delete-btn', function() {

          var tr = $(this).parent().parent();

        $.confirm({
          title: 'Are you Sure?',
          type:"red",
          content: 'Do you really want to delete?',
          buttons: {
              Yes: {
                    text: 'Yes',
                    btnClass: 'btn-red',
                    action: function () {

                       tr.remove();

                    }
                },
              No: function () {

              },

          }
         }); 
    });


    $("#add-btn").click(function(){


      $.confirm({
            title: 'ADD EMPLOYEE',
            content: '<div class="form-group">' +
            '<label>Employee ID</label>' +
            '<input id="employee-id-input" type="text" placeholder="Your Employee ID" class="form-control"/>' +
            '</div>' +
            '<div class="form-group">' +
            '<label>Name</label>' +
            '<input id="name-input" type="text" placeholder="Your Name" class="form-control"/>' +
            '</div>' +
            '<div class="form-group">' +
            '<label>Address</label>' +
            '<input id="address-input" type="text" placeholder="Your Address" class="form-control"/>' +
            '</div>' + 
            '<div class="form-group">' +
            '<label>Phone</label>' +
            '<input id="phone-input" type="number" placeholder="Your Phone" class="form-control"/>' +
            '</div>'+
            '<div class="form-group">' +
            '<label>Age</label>' +
            '<input id="age-input" type="number" placeholder="Your Age" class="form-control"/>' +
            '</div>'+
            '<div class="form-group">' +
            '<label>Gender</label>' +
            '<input id="gender-input" type="text" placeholder="Your Gender" class="form-control"/>' +
            '</div>'+
            '<div class="form-group">' +
            '<label>Role</label>' +
            '<input id="role-input" type="text" placeholder="Your Role" class="form-control"/>' +
            '</div>'+
            '<div class="form-group">' +
            '<label>Salary</label>' +
            '<input id="salary-input" type="number" placeholder="Your Salary" class="form-control"/>' +
            '</div>'

            ,
            buttons: {
                Submit: {
                    text: 'Submit',
                    btnClass: 'btn-purple',
                    action: function () {

                      var employeeId = $('#employee-id-input').val();
                      var name = $('#name-input').val();
                      var address = $('#address-input').val();
                      var phone = $('#phone-input').val();
                      var age = $('#age-input').val();
                      var gender = $('#gender-input').val();
                      var role = $('#role-input').val();
                      var salary = $('#salary-input').val();

                      var tr = `<tr>
                      <td>${employeeId}</td>
                      <td>${name}</td>
                      <td>${address}</td>
                      <td>${phone}</td>
                      <td>${age}</td>
                      <td>${gender}</td>
                      <td>${role}</td>
                      <td>${salary}</td>
                       <td><div class='edit-btn'><i class="fa fa-pencil" aria-hidden="true"></i></div></td>
                       <td><div class='delete-btn'><i class="fa fa-trash-o" aria-hidden="true"></i></div></td>
                    </tr>`

                    // append function used to insert this string into table body
                    $("#empl-tbl-body").append(tr)
                     $.alert("EMPLOYEE ADDED SUCCESSFULLY");
                        }
                    },
                    cancel: function () {
                        //close
                    

                    }
                },
               


            onContentReady: function () {

            }
        });
    });

      </script>

</body>
</html>